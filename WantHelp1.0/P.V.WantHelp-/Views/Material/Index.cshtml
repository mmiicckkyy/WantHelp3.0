@model IEnumerable<P.V.WantHelp_.Models.Material>

@{
    ViewBag.Title = "Index";
}

<link href="~/cssInk/css/ink.css" type="text/css" rel="stylesheet"/>

<style type="text/css">
    .circle:hover {
    /*border: 5px solid transparent;*/
    /*border:1px solid #65a0d8;*/
    border-radius: 80px;
    }
    footer {
    clear:both;
    background-color: #414E5E;   
    font-size: .8em;
    height: 61px;
    border-radius: 5px 5px 5px 5px;
    margin:2px 2px 2px 2px;

    filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#FF696969', endColorstr='#FF252525');
    
}
</style>
<section class="content-wrapper main-content clear-fix">
<div id="body_Curso">
    <div class="centrarH">
<h2 class="letraD">Material...</h2>


<table class="ink-table hover">
    <tr>
        <th style="display:none;">
            @Html.DisplayNameFor(model => model.Id_Material)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Usuario.Nombre)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Cursos.Titulo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.archivos)
        </th>
        <th style="display:none;">
            @Html.DisplayNameFor(model => model.urlBase)
        </th>
        <th style="display:none;">
            @Html.DisplayNameFor(model => model.urlHost)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td style="display:none;">
            @Html.DisplayFor(modelItem => item.Id_Material)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Usuario.Nombre)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cursos.Titulo)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.archivos)
        </td>
        <td style="display:none;">
            @Html.DisplayFor(modelItem => item.urlBase)
        </td>
        <td style="display:none;">
            @Html.DisplayFor(modelItem => item.urlHost)
        </td>

       <td>
            <a href="/material/Edit/@item.Id_Material" class="tooltip circle" title="Editar">
                <img src="~/Image/edit.png"/>
            </a><span class="barrita">|</span>
            <a href="/material/Details/@item.Id_Material" class="tooltip circle" title="Detalle">
                <img src="~/Image/addressbook.png"/>
            </a><span class="barrita">|</span>
            <a href="/material/Delete/@item.Id_Material" class="tooltip circle" title="Eliminar">
                <img src="~/Image/delete-item.png"/>
            </a>
            <div style="display:none;">
                @Html.ActionLink("Edit", "Edit", new {id=item.Id_Material}) |
                @Html.ActionLink("Details", "Details", new { id=item.Id_Material}) |
                @Html.ActionLink("Delete", "Delete", new {id=item.Id_Material})
            </div>
        </td>
    </tr>
}

</table>

<script>
    $(document).ready(function () {
        var myDropzone = new Dropzone("div#myId", {
            url: "/Material/SaveFiles",
            paramName: "file",
            maxFilesize: 15, // MB
            accept: function (file, done) {
                done();
            },
            complete: function (data, r) {

                console.log(r.filename);
                $.post("/Material/guardar",
                    r,
                function (respuesta) {

                },"json");
            }
        });
    });
</script>
<h2>Guardar Archivos</h2>
<div class="demo"></div>
<div id="myId" title="Subir archivos" class="dropzone" style="cursor:pointer; width:300px;height:40px;padding-top:12px;padding-left:15px; box-shadow:0px 0px 5px 5px #808080;border-radius:5px;margin-top:-15px;"></div>
        <div style="margin-top:5px;"><b>Click para subir uno o varios archivos a la vez.</b></div>
</div>
    </div>
</section>